{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAY,sBACdC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQL,KAAe,GAExDM,EAAOC,SAASC,cAAc,kBAEpCF,EAAKG,iBAAiB,QAASC,EAAAZ,EAAA,EAK/B,SAAyBa,GACvBV,EAASU,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,MAAMC,OACzCX,aAAaY,QAAQhB,EAAWE,KAAKe,UAAUhB,G,GAPQ,MACzDK,EAAKG,iBAAiB,UAStB,SAAsBE,GACpBA,EAAEO,iBAEFC,QAAQC,IAAInB,GACZU,EAAEU,cAAcC,QAChBlB,aAAamB,WAAWvB,GACxBC,EAAW,E,IAGb,WACE,GAAIA,EAAU,CACZ,IAAyBuB,EAAAlB,EAAKmB,SAAxBC,EAAmBF,EAAnBE,MAAOC,EAAYH,EAAZG,QACbD,EAAMZ,MAAQb,EAASyB,OAAS,GAChCC,EAAQb,MAAQb,EAAS0B,SAAW,E,EApBxCC,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst LOCAL_KEY = 'feedback-form-state';\nlet formData = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', throttle(storageFormData, 500));\nform.addEventListener('submit', onFormSubmit);\n\nreloadPage();\n\nfunction storageFormData(e) {\n  formData[e.target.name] = e.target.value.trim();\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(formData));\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  \n  console.log(formData);\n  e.currentTarget.reset();\n  localStorage.removeItem(LOCAL_KEY);\n  formData = {};\n}\n\nfunction reloadPage() {\n  if (formData) {\n    let { email, message } = form.elements;\n    email.value = formData.email || '';\n    message.value = formData.message || '';\n  }\n}\n\n"],"names":["$eaxEB","parcelRequire","$b00c40859be242c5$var$LOCAL_KEY","$b00c40859be242c5$var$formData","JSON","parse","localStorage","getItem","$b00c40859be242c5$var$form","document","querySelector","addEventListener","$parcel$interopDefault","e","target","name","value","trim","setItem","stringify","preventDefault","console","log","currentTarget","reset","removeItem","_elements","elements","email","message","$b00c40859be242c5$var$reloadPage"],"version":3,"file":"03-feedback.404481d4.js.map"}